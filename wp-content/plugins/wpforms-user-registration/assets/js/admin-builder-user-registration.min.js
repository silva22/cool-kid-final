"use strict";var WPFormsUserRegistration=window.WPFormsUserRegistration||function(a){var e,t={init:function(){a(t.ready)},ready:function(){e=a("#wpforms-builder"),t.bindUIActions(),t.registrationToggle(),t.activationToggle(),t.hideMessageToggle()},bindUIActions:function(){e.on("change","#wpforms-panel-field-settings-registration_enable",t.registrationToggle).on("change","#wpforms-panel-field-settings-registration_activation, #wpforms-panel-field-settings-registration_activation_method",t.activationToggle).on("click",".registration_email_template_toggle",t.toggleEmailTemplate).on("change",'.user-registration-hide-form-logged-user input[type="checkbox"]',t.hideMessageToggle).on("wpformsBeforeSave",t.showRequiredFieldsPopup)},isUserRegistrationEnabled(){return a("#wpforms-panel-field-settings-registration_enable").is(":checked")},showRequiredFieldsPopup(i){if(t.isUserRegistrationEnabled()){let e=!1;(e=0===a("#wpforms-panel-field-settings-registration_email").val().trim().length?!0:e)&&(a.alert({title:wpforms_builder.heads_up,content:wpforms_builder.user_registration_required_email,icon:"fa fa-exclamation-circle",type:"orange",buttons:{confirm:{text:wpforms_builder.ok,btnClass:"btn-confirm",keys:["enter"]}}}),i.preventDefault())}},registrationToggle:function(){var e=a("#wpforms-panel-field-settings-registration_enable"),i=a("#wpforms-user-registration-forms-content-block");e.length&&(t.isUserRegistrationEnabled()?i.show():i.hide())},activationToggle:function(){var e=a("#wpforms-panel-field-settings-registration_activation"),i=a("#wpforms-panel-field-settings-registration_activation_method-wrap"),t=a("#wpforms-panel-field-settings-registration_activation_confirmation-wrap"),r=a("#wpforms-notifications-block-registration_email_user_activation"),o=a("#wpforms-panel-field-settings-registration_auto_log_in-wrap"),s=a("#wpforms-panel-field-settings-registration_email_user_after_activation-wrap"),n=a("#wpforms-notifications-block-registration_email_user_after_activation");e.is(":checked")?(o.hide(),i.show(),s.show(),"user"===i.find("option:selected").val()?(t.show(),r.show()):(t.hide(),r.hide())):(o.show(),i.hide(),t.hide(),r.hide(),s.hide(),n.hide(),s.find(".registration_email_template_toggle").html(wpforms_builder.user_registration_edit_template))},toggleEmailTemplate:function(e){e.preventDefault();var e=a(this),i=e.parent().prop("id").replace("wpforms-panel-field-settings-","").replace("-wrap",""),i=a("#wpforms-notifications-block-"+i);i.is(":visible")?(i.hide(),e.html(wpforms_builder.user_registration_edit_template)):(i.show(),e.html(wpforms_builder.user_registration_hide_template))},hideMessageToggle:function(){var e=a('.user-registration-hide-form-logged-user input[type="checkbox"]');e.length&&a(".user-registration-hide-form-logged-user .wpforms-panel-field-textarea").toggle(e.is(":checked"))}};return t}(jQuery);WPFormsUserRegistration.init();